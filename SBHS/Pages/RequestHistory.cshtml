@page
@model SBHS.Pages.RequestHistoryModel
@{
}

<style>
    h2{
        text-align:center;
        margin-top:20px;
    }

    .card {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
        margin-right: 10px; /* Add margin between cards */
        background-color: #f9f9f9;
        width: calc(50% - 15px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .card-header {
        font-weight: bold;
        margin-bottom: 5px;
    }

    .card-header {
        font-weight: bold;
        margin-bottom: 5px;

    }

    .card-body {
        margin-bottom: 5px;
        padding: 5px;
    }

    .card-body strong{
        font-weight: bold;
        display: inline-block;
        width: 120px;
    }

    .card-container {
        display: flex; /* Use flexbox to arrange cards horizontally */
        flex-wrap: wrap; /* Allow cards to wrap to the next row */
        justify-content: space-between; /* Distribute space between cards */
    }

    .status-approved {
        background-color: green;
        color: white;
        border-radius: 10px;
        padding:3px;
    }

    .status-rejected {
        background-color: red;
        color: white;
        border-radius: 10px;
        padding: 3px;
    }

</style>

<h2>Requests History</h2>
<hr/>

<div class="card-container">
    <div class="card">
    <div class="card-header">
        <h3>Approved Leave Requests</h3>
    </div>
    <div class="card-body">
        @foreach (var leaveRequest in Model.ApprovedLeaveRequests)
        {
            <div class="card">
                <div class="card-header">
                    @leaveRequest.UserDetail.FullName
                </div>
                <div class="card-body">
                    <strong>Leave Type:</strong> @leaveRequest.LeaveType.LeaveTypeName<br />
                    <strong>Start Date:</strong> @leaveRequest.StartDate?.ToShortDateString()<br />
                    <strong>End Date:</strong> @leaveRequest.EndDate?.ToShortDateString()<br />
                    <strong>Reason:</strong> @leaveRequest.Reason<br />
                    <strong>Days:</strong> @leaveRequest.Days<br />
                    <strong>Status:</strong> <span class="status-approved">@leaveRequest.LeaveStatus.LeaveStatusName</span><br />
                </div>
            </div>
        }
    </div>
</div>

    <div class="card">
    <div class="card-header">
        <h3>Rejected Leave Requests</h3>
    </div>
    <div class="card-body">
        @foreach (var leaveRequest in Model.RejectedLeaveRequests)
        {
            <div class="card">
                <div class="card-header">
                    @leaveRequest.UserDetail.FullName
                </div>
                <div class="card-body">
                    <strong>Leave Type:</strong> @leaveRequest.LeaveType.LeaveTypeName<br />
                    <strong>Start Date:</strong> @leaveRequest.StartDate?.ToShortDateString()<br />
                    <strong>End Date:</strong> @leaveRequest.EndDate?.ToShortDateString()<br />
                    <strong>Reason:</strong> @leaveRequest.Reason<br />
                    <strong>Days:</strong> @leaveRequest.Days<br />
                    <strong>Status:</strong> <span class="status-rejected">@leaveRequest.LeaveStatus.LeaveStatusName</span><br />
                </div>
            </div>
        }
    </div>
</div>

    <div class="card">
    <div class="card-header">
        <h3>Approved Oncall Requests</h3>
    </div>
    <div class="card-body">
        @foreach (var oncallRequest in Model.ApprovedOncallRequests)
        {
            <div class="card">
                <div class="card-header">
                    @oncallRequest.UserDetail.FullName
                </div>
                <div class="card-body">
                    <strong>Date:</strong> @oncallRequest.DateTimeOnCall?.ToShortDateString()<br />
                    <strong>Status:</strong> <span class="status-approved">@oncallRequest.LeaveStatus.LeaveStatusName</span><br />
                </div>
            </div>
        }
    </div>
</div>

    <div class="card">
        <div class="card-header">
            <h3>Rejected Oncall Requests</h3>
        </div>
        <div class="card-body">
            @foreach (var oncallRequest in Model.RejectedOncallRequests)
            {
                <div class="card">
                    <div class="card-header">
                        @oncallRequest.UserDetail.FullName
                    </div>
                    <div class="card-body">
                        <strong>Date:</strong> @oncallRequest.DateTimeOnCall?.ToShortDateString()<br />
                        <strong>Status:</strong> <span class="status-rejected">@oncallRequest.LeaveStatus.LeaveStatusName</span><br />
                    </div>
                </div>
            }
        </div>
    </div>

</div>